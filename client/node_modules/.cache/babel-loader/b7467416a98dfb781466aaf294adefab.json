{"ast":null,"code":"var _jsxFileName = \"/Users/Angelota/Library/Mobile Documents/com~apple~CloudDocs/Desktop/UCM/TFG INFOR/github/aux/TFG-Plataforma-blockchain-para-visualizar-la-reputacion-de-empresas-sobre-casos-de-discriminacion/client/src/Components/Home/home.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Web3 from 'web3';\nimport { Button, Card, Image } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\nimport * as constants from './../../constantFile.js';\nimport complaintContract from './../../complaintContract.json';\nimport CompanyItem from './CompanyItem.js';\nimport telefonica from './telefonica.png';\nimport CircularGraph from \"./CircularGraph\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [companies, setCompanies] = useState([]);\n  const [reputation, setReputation] = useState([]);\n  useEffect(() => {\n    //Para conectarse al smart contract\n    const infuraUrl = constants.INFURA_URL; //Crea una instancia para comunicarse con el nodo indicado\n\n    const web3 = new Web3(new Web3.providers.HttpProvider(infuraUrl)); //Se conectaria con el contrato\n\n    const contract = new web3.eth.Contract(complaintContract.abi, constants.CONTRACT_ADDRESS); //Obtenemos el array de empresas\n\n    contract.methods.getCompanies().call().then(response => setCompanies(response)); //Obtenemos sus reputaciones\n\n    contract.methods.getReputation().call().then(response => setReputation(response));\n  }, []); //Unimos reputaciones y empresas\n\n  let card = companies.map((e, i) => [e, reputation[i]]); //Creamos componentes (para las cartas)\n\n  let CompanyCards = card.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [item[0], \" \", item[1]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 46\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 41\n  }, this));\n  const data1 = [{\n    name: 'Mujeres',\n    value: 63,\n    color: '#3F51B5'\n  }, {\n    name: 'Hombres',\n    value: 15,\n    color: '#E53935'\n  }, {\n    name: 'No binario',\n    value: 23,\n    color: '#FB8C00'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Company List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          title: \"Gr\\xE1fica\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: 300,\n              position: 'relative'\n            },\n            children: /*#__PURE__*/_jsxDEV(CircularGraph, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'center',\n              pt: 2\n            },\n            children: data1.map(_ref => {\n              let {\n                color,\n                name,\n                value\n              } = _ref;\n              return /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  p: 1,\n                  textAlign: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  variant: \"body1\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  style: {\n                    color\n                  },\n                  variant: \"h4\",\n                  children: [value, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 17\n                }, this)]\n              }, name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Home, \"H0JO+DheZoDn5ZuiaNn5k2oHwpE=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/Angelota/Library/Mobile Documents/com~apple~CloudDocs/Desktop/UCM/TFG INFOR/github/aux/TFG-Plataforma-blockchain-para-visualizar-la-reputacion-de-empresas-sobre-casos-de-discriminacion/client/src/Components/Home/home.js"],"names":["useEffect","useState","Web3","Button","Card","Image","constants","complaintContract","CompanyItem","telefonica","CircularGraph","Home","companies","setCompanies","reputation","setReputation","infuraUrl","INFURA_URL","web3","providers","HttpProvider","contract","eth","Contract","abi","CONTRACT_ADDRESS","methods","getCompanies","call","then","response","getReputation","card","map","e","i","CompanyCards","item","data1","name","value","color","height","position","display","justifyContent","pt","p","textAlign"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAmC,OAAnC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,mBAApC;AACA,OAAO,kCAAP;AACA,OAAO,KAAKC,SAAZ,MAA2B,yBAA3B;AACA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AAEf,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAChB;AACI,UAAMgB,SAAS,GAAGV,SAAS,CAACW,UAA5B,CAFY,CAIZ;;AACA,UAAMC,IAAI,GAAG,IAAIhB,IAAJ,CAAS,IAAIA,IAAI,CAACiB,SAAL,CAAeC,YAAnB,CAAgCJ,SAAhC,CAAT,CAAb,CALY,CAOZ;;AACA,UAAMK,QAAQ,GAAG,IAAIH,IAAI,CAACI,GAAL,CAASC,QAAb,CAAsBhB,iBAAiB,CAACiB,GAAxC,EAA6ClB,SAAS,CAACmB,gBAAvD,CAAjB,CARY,CAUZ;;AACAJ,IAAAA,QAAQ,CAACK,OAAT,CAAiBC,YAAjB,GAAgCC,IAAhC,GAAuCC,IAAvC,CAA4CC,QAAQ,IAAIjB,YAAY,CAACiB,QAAD,CAApE,EAXY,CAaZ;;AACAT,IAAAA,QAAQ,CAACK,OAAT,CAAiBK,aAAjB,GAAiCH,IAAjC,GAAwCC,IAAxC,CAA6CC,QAAQ,IAAIf,aAAa,CAACe,QAAD,CAAtE;AAEH,GAhBQ,EAgBP,EAhBO,CAAT,CALe,CAuBf;;AACA,MAAIE,IAAI,GAAGpB,SAAS,CAACqB,GAAV,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAU,CAACD,CAAD,EAAIpB,UAAU,CAACqB,CAAD,CAAd,CAAxB,CAAX,CAxBe,CAyBf;;AACA,MAAIC,YAAY,GAAGJ,IAAI,CAACC,GAAL,CAASI,IAAI,iBAAI;AAAA,2BAAK;AAAA,iBAAKA,IAAI,CAAC,CAAD,CAAT,OAAeA,IAAI,CAAC,CAAD,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,UAAjB,CAAnB;AACA,QAAMC,KAAK,GAAG,CACV;AACEC,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,KAAK,EAAE;AAHT,GADU,EAMV;AACEF,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,KAAK,EAAE;AAHT,GANU,EAWV;AACEF,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,KAAK,EAAE;AAHT,GAXU,CAAd;AAiBA,sBAAO;AAAA,4BACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADG,eAEH;AAAA,6BACA,QAAC,IAAD;AAAA,gCACA,QAAC,UAAD;AAAY,UAAA,KAAK,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA,QAAC,WAAD;AAAA,kCACE,QAAC,GAAD;AACE,YAAA,EAAE,EAAE;AACFC,cAAAA,MAAM,EAAE,GADN;AAEFC,cAAAA,QAAQ,EAAE;AAFR,aADN;AAAA,mCAME,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,kBADF,eASE,QAAC,GAAD;AACE,YAAA,EAAE,EAAE;AACFC,cAAAA,OAAO,EAAE,MADP;AAEFC,cAAAA,cAAc,EAAE,QAFd;AAGFC,cAAAA,EAAE,EAAE;AAHF,aADN;AAAA,sBAOGR,KAAK,CAACL,GAAN,CAAU;AAAA,kBAAC;AACVQ,gBAAAA,KADU;AAEVF,gBAAAA,IAFU;AAGVC,gBAAAA;AAHU,eAAD;AAAA,kCAKT,QAAC,GAAD;AAEE,gBAAA,EAAE,EAAE;AACFO,kBAAAA,CAAC,EAAE,CADD;AAEFC,kBAAAA,SAAS,EAAE;AAFT,iBAFN;AAAA,wCAOE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAC,aADR;AAEE,kBAAA,OAAO,EAAC,OAFV;AAAA,4BAIGT;AAJH;AAAA;AAAA;AAAA;AAAA,wBAPF,eAaE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAE;AAAEE,oBAAAA;AAAF,mBADT;AAEE,kBAAA,OAAO,EAAC,IAFV;AAAA,6BAIGD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbF;AAAA,iBACOD,IADP;AAAA;AAAA;AAAA;AAAA,sBALS;AAAA,aAAV;AAPH;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAFG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAuDH,CAnGD;;GAAM5B,I;;KAAAA,I;AAqGN,eAAeA,IAAf","sourcesContent":["import { useEffect, useState} from 'react';\nimport Web3 from 'web3';\nimport { Button, Card, Image } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\nimport * as constants from './../../constantFile.js';\nimport complaintContract from './../../complaintContract.json';\nimport CompanyItem from './CompanyItem.js';\nimport telefonica from './telefonica.png';\n\nimport CircularGraph from \"./CircularGraph\";\n\nconst Home = () => {\n\n    const [companies, setCompanies] = useState([]);\n    const [reputation, setReputation] = useState([]);\n   \n    useEffect(() => {\n    //Para conectarse al smart contract\n        const infuraUrl = constants.INFURA_URL;\n\n        //Crea una instancia para comunicarse con el nodo indicado\n        const web3 = new Web3(new Web3.providers.HttpProvider(infuraUrl));\n\n        //Se conectaria con el contrato\n        const contract = new web3.eth.Contract(complaintContract.abi, constants.CONTRACT_ADDRESS);\n\n        //Obtenemos el array de empresas\n        contract.methods.getCompanies().call().then(response => setCompanies(response));\n        \n        //Obtenemos sus reputaciones\n        contract.methods.getReputation().call().then(response => setReputation(response));\n    \n    },[]);\n    \n    //Unimos reputaciones y empresas\n    let card = companies.map((e, i) => [e, reputation[i]]);\n    //Creamos componentes (para las cartas)\n    let CompanyCards = card.map(item => <div><h3>{item[0]} {item[1]}</h3></div>);\n    const data1 = [\n        {\n          name: 'Mujeres',\n          value: 63,\n          color: '#3F51B5'\n        },\n        {\n          name: 'Hombres',\n          value: 15,\n          color: '#E53935'\n        },\n        {\n          name: 'No binario',\n          value: 23,\n          color: '#FB8C00'\n        }\n      ];\n    return <div>\n        <h2>Company List</h2>\n        <div>\n        <Card>\n        <CardHeader title=\"Gráfica\" />\n        <Divider />\n        <CardContent>\n          <Box\n            sx={{\n              height: 300,\n              position: 'relative'\n            }}\n          >\n            <CircularGraph/>\n          </Box>\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'center',\n              pt: 2\n            }}\n          >\n            {data1.map(({\n              color,\n              name,\n              value\n            }) => (\n              <Box\n                key={name}\n                sx={{\n                  p: 1,\n                  textAlign: 'center'\n                }}\n              >\n                <Typography\n                  color=\"textPrimary\"\n                  variant=\"body1\"\n                >\n                  {name}\n                </Typography>\n                <Typography\n                  style={{ color }}\n                  variant=\"h4\"\n                >\n                  {value}\n                  %\n                </Typography>\n              </Box>\n            ))}\n          </Box>\n        </CardContent>\n      </Card>\n        </div>\n    \n    </div>\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}